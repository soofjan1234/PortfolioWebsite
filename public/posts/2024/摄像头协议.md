# ONVIF

ONVIF 协议定义了一个统一的接口，允许不同品牌的网络视频设备（例如网络摄像机、录像机、存储设备等）彼此通信，并有效地进行集成和管理。

ONVIF 的技术规格包括多种技术规则，其中关于 IPC（网络摄像头）的是 Profile S。Profile S 定义了 ONVIF 视频设备网络接口的常用功能，包括视频流的发送和接收、图像和视频编解码等。

ONVIF 协议的构成由两部分组成：WebService （SOAP 和 WSDL）和 RTSP。

## WebService（SOAP 和 WSDL）

WSDL是服务端用来向客户端描述自己实现哪些请求、发送请求时需要带上哪些参数xml组织格式；SOAP是客户端向服务端发送请求时的参数的xml组织格式

Web Services实现摄像头控制（比如一些参数配置、摄像头的上下左右（PTZ）控制）

Web Services摄像头控制具体到技术交互实现上，其实和http差不多，客户端以类似http post的格式向服务端发送请求，然后服务端响应客户端请求。

# GB281281

GB28181是国家标准协议，它是中国的监控行业标准化组织在2006年制定的一个标准，用于实现监控设备之间的互通和互操作。

构成： RTP（Real-time Transport Protocol, 实时传输协议， 流媒体传输层协议） + SIP(Session Initiation Protocol, 会话发起协议， 信令层协议)

SIP的一个典型用途是：SIP会话传输一些简单的经过报文的实时传输协议流，RTP本身才是语音或视频的载体。

在GB28181协议中，联网系统在进行视音频传输及控制时应建立两个传输通道: 会话通道和媒体流通道。

会话通道用于在设备之间建立会话并传输系统控制命令; 媒体流通道用于传输视音频数据， 经过压缩编码的视音频流采用流媒体协议RTP/RTCP传输。如下图（通信协议结构图）所示：